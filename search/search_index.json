{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Picamera zero (picamzero)","text":"<p>Picamera zero (<code>picamzero</code>) makes it easy for beginners to control a Raspberry Pi camera with Python.</p>"},{"location":"#install","title":"Install","text":"<ol> <li> <p>Open a terminal window on your Raspberry Pi.</p> <p></p> </li> <li> <p>Run these commands (one at a time) to install <code>picamzero</code>:</p> <pre><code>sudo apt update\nsudo apt install python3-picamzero\n</code></pre> </li> </ol> <p>Now you're good to go! Start by writing your first program.</p>"},{"location":"api_docs/","title":"API docs","text":"<p>API docs or \"Application Programming Interface Documentation\" is a fancy name for a list of all the things a piece of software can do, and how to use them.</p> <p>The docs list all of the methods available.</p>"},{"location":"api_docs/#method-signature","title":"Method signature","text":"<p>You will see a block of code like this:</p> <pre><code>record_video(\n    filename: str,\n    duration: int\n) -&gt; str\n</code></pre> <p>This tells you:</p> <ul> <li>the name of the method (<code>record_video</code>)</li> <li>the parameters it can accept (<code>filename</code> and <code>duration</code>)</li> <li>the type of data accepted by each parameter<ul> <li><code>filename</code> needs a <code>str</code> (string)</li> <li><code>duration</code> needs an <code>int</code> (integer)</li> </ul> </li> <li>what the method returns (<code>-&gt; str</code>)</li> </ul>"},{"location":"api_docs/#parameter-list","title":"Parameter list","text":"<p>This is a list of all parameters, their data type, their default value, whether it is compulsory for you to provide a value and a description of what each one does.</p> Parameter Data type Default Compulsory? Description filename str None Yes A file name for a <code>.mp4</code> video. This can also be a path to a file. duration int <code>5</code> No The length of time to record, in seconds."},{"location":"api_docs/#example","title":"Example","text":"<p>An example of how to call the method is provided.</p> <pre><code>cam.record_video(\"test_video.mp4\", 10)\n</code></pre> <p>The example will always assume you have already imported the <code>picamzero</code> library, and created a camera. The full code to run this example would be:</p> <pre><code>from picamzero import Camera\ncam = Camera()\ncam.record_video(\"test_video.mp4\", 10)\n</code></pre> <p>Now that you know how to read API docs, have a look at the photo methods, video methods and preview methods.</p>"},{"location":"camera/","title":"Camera","text":"<p>The first thing you must do in any <code>picamzero</code> program is create a camera.</p> <p>Add these two lines of code at the start of your program:</p> <pre><code>from picamzero import Camera\ncam = Camera()\n</code></pre> <p>The <code>Camera</code> in the example is called <code>cam</code>, but you can call yours something different if you prefer.</p> <p>The camera can do three basic things:</p> <ul> <li>show a preview</li> <li>take a still image (photo)</li> <li>record a video.</li> </ul>"},{"location":"camera/#camera-properties","title":"Camera properties","text":"<p>The following properties of the camera can be set. There is no need to change any of these properties if you just want a standard image.</p> Property Type Default Description <code>brightness</code> float 0.0 A value between between -1.0 and 1.0. <code>contrast</code> float 1.0 A value between 0.0 and 32.0. <code>exposure</code> int None How long the exposure for a shot should be. The min and max values vary. <code>gain</code> int None The analogue gain. The min and max values vary. <code>greyscale</code> bool False Turn greyscale (black and white) mode on or off. Greyscale does not apply to video capture. <code>white_balance</code> str <code>\"auto\"</code> The white balance profile used. This can be <code>\"auto\"</code>, <code>\"tungsten\"</code>, <code>\"fluorescent\"</code>, <code>\"indoor\"</code>, <code>\"daylight\"</code> or <code>\"cloudy\"</code>. <p>You can also change the size of the three modes (preview, still and video):</p> Property Type Default Description <code>preview_size</code> tuple Depends* The width and height, in pixels, of the preview window, e.g. <code>(800, 600)</code>. Both the height and width must be even numbers and greater than 15. <code>still_size</code> tuple Depends* The width and height, in pixels, of any still images.  Both the height and width must be even numbers and greater than 15. <code>video_size</code> tuple Depends* The width and height, in pixels, of any video captured.  Both the height and width must be even numbers and greater than 15. <p>*The default size will depend on which Raspberry Pi camera you are using.</p> <p>Change a property by giving it a value, for example:</p> <pre><code>cam.brightness = 0.5\ncam.greyscale = True\ncam.video_size = (1920, 1080) # 1080p\n</code></pre>"},{"location":"camera/#camera-methods","title":"Camera methods","text":"<p>A method is something you can ask the camera to do.</p>"},{"location":"camera/#flip-the-camera-flip_camera","title":"Flip the camera (<code>flip_camera</code>)","text":"<p>Flips the orientation of the camera. You can flip along the horizontal axis, the vertical axis or both. The flip will be applied to the preview, still images and videos.</p> <pre><code>flip_camera(\n    vflip: bool,\n    hflip: bool\n) -&gt; None\n</code></pre> Parameter Data type Default Compulsory? Description vflip bool False No Flips the image vertically. Setting this to True will provide an upside-down image. hflip bool False No Flips the image horizontally. Setting this to True will provide a mirror image."},{"location":"camera/#example","title":"Example","text":"<pre><code>cam.flip_camera(vflip=True)\n</code></pre> <p>The camera image will be upside down.</p> <p>Setting <code>flip_camera</code> more than once will mean earlier transforms are disregarded. For example:</p> <p><pre><code>cam.flip_camera(vflip=True)\ncam.flip_camera(hflip=True)\n</code></pre> The camera will only be flipped horizontally. The previous <code>vflip</code> setting is reset by the second call to the method.</p> <p>There are lots more camera methods for previewing, taking photos and recording videos.</p>"},{"location":"colors/","title":"Colours","text":"<p>When you need to specify a colour, <code>picamzero</code> can accept colours in one of three formats:</p>"},{"location":"colors/#rgba","title":"RGBA","text":"<p>A tuple containing a colour code in RGB format plus an alpha (transparency) value. For example, red would be:</p> <p><code>(255, 0, 0, 255)</code></p> <p>The first three values are Red, Green and Blue (0-255) and the final value is the transparency, with 0 being fully transparent and 255 being fully opaque.</p>"},{"location":"colors/#hex-colour-code","title":"Hex colour code","text":"<p>You can specify any valid hex code for a colour, in the format <code>#000000</code>.</p>"},{"location":"colors/#colour-name","title":"Colour name","text":"<p>The following colours can be specified by name as a string:</p> <ul> <li><code>aqua</code></li> <li><code>black</code></li> <li><code>blue</code></li> <li><code>fuchsia</code></li> <li><code>gray</code></li> <li><code>green</code></li> <li><code>lime</code></li> <li><code>maroon</code></li> <li><code>navy</code></li> <li><code>olive</code></li> <li><code>purple</code></li> <li><code>red</code></li> <li><code>silver</code></li> <li><code>teal</code></li> <li><code>white</code></li> <li><code>yellow</code></li> </ul>"},{"location":"contributing/","title":"Contributing","text":""},{"location":"contributing/#on-a-raspberry-pi","title":"On a Raspberry Pi","text":"<p>Make sure you have installed these packages via Debian package manager</p> <pre><code>sudo apt install python3-pytest mkdocs pre-commit python3-opencv\n</code></pre>"},{"location":"contributing/#in-another-environment","title":"In another environment","text":"<p>Install the dependencies directly into a virtual environment using Python's built-in <code>venv</code> module:</p> <pre><code>python3 -m venv venv\nsource venv/bin/activate\npip install -r requirements.txt\n</code></pre> <p>Note that <code>picamera2</code> - the library on which <code>picamera-zero</code> depends - is only installable on Linux.</p>"},{"location":"contributing/#clone-the-repo","title":"Clone the repo","text":"<p>Make sure that you have a SSH key set up in GitHub first.</p> <pre><code>git clone git@github.com:RaspberryPiFoundation/picamera-zero.git\n</code></pre>"},{"location":"contributing/#documentation","title":"Documentation","text":"<p>The package is documented with mkdocs. From the directory with <code>mkdocs.yml</code> type</p> <pre><code>mkdocs serve\n</code></pre> <p>This will start the server. View the docs in a browser at <code>http://127.0.0.1:8000</code></p> <p>You can make changes to the docs in the .md files.</p>"},{"location":"contributing/#testing","title":"Testing","text":"<p>Navigate to the <code>tests</code> directory and run the pytest command:</p> <pre><code>pytest\n</code></pre> <p>You can write tests in the tests directory. Each test function, and each file needs to begin with the prefix <code>test_</code></p>"},{"location":"contributing/#build-the-package","title":"Build the package","text":"<p>From the main directory (with <code>pyproject.toml</code>) type:</p> <pre><code>sudo apt install python3-build\npython -m build\n</code></pre> <p>The distribution will be created in the <code>dist</code> directory.</p>"},{"location":"contributing/#continuous-integration","title":"Continuous integration","text":"<p>There are two CI jobs executed on each PR. The <code>lint</code> job uses <code>pre-commit</code> to check for common errors and formatting, while the <code>build</code> job simply tries to build the package using the <code>build</code> module.</p>"},{"location":"contributing/#pre-commit-static-checks","title":"Pre-commit static checks","text":"<p>You may find it useful to set up <code>pre-commit</code> to run some static checks before each commit. Doing so can help catch common errors, and unify code style.</p> <p><code>pre-commit</code> should already be installed if you followed the installation instructions above - if not, install on a development pi with <code>sudo apt install pre-commit</code>. To set it up to run before every commit, execute <code>pre-commit install</code>. Once set up, <code>pre-commit</code> will check every file changed in a commit.</p> <p>To make <code>pre-commit</code> check every file in the repository, execute <code>pre-commit run --all-files</code>. Alternatively, to skip verification, you can use the <code>--no-verify</code> option when committing: <code>git commit --no-verify</code></p> <p>At any time, you can uninstall <code>pre-commit</code> by running <code>pre-commit uninstall</code>.</p>"},{"location":"contributing/#deployments","title":"Deployments","text":"<p>Deployments should use semantic versioning (https://semver.org/). The deployment workflow is triggered upon creation of a new Github release, and checks that the version specified in <code>picamzero/__init__.py.__version__</code> matches the tag in the Github release. The package is then built using the <code>build</code> module before being deployed to <code>TestPyPI</code> and <code>PyPI</code>.</p>"},{"location":"hello_world/","title":"Writing your first program","text":"<p>With your Raspberry Pi switched off, connect your Raspberry Pi Camera to a camera port.     </p> <p>Type this code into your code editor, then save and run it:</p> <pre><code>from picamzero import Camera\ncam = Camera()\ncam.take_photo(\"helloworld.jpg\")\n</code></pre> <p>Your camera will start up and take a photo.</p> <p>The photo will be saved in the same directory as your Python file.</p> <p>Now try out some of the other methods by following the recipes.</p>"},{"location":"photo_methods/","title":"Photo methods","text":""},{"location":"photo_methods/#take-a-photo","title":"Take a photo","text":"<ul> <li>Takes a photograph using the camera and saves it as a <code>.jpg</code> image.</li> <li>Returns the filename of the image.</li> </ul> <pre><code>take_photo(\n    filename: str | Path,\n    gps_coordinates: tuple[tuple[float, float, float, float],\n                     tuple[float, float, float, float]]\n) -&gt; str\n</code></pre> Parameter Data type Default Compulsory? Description filename str or Path None Yes A file name for a <code>.jpg</code> image. This can also be a path to a file as either a string or a <code>Path</code> object. gps_coordinates tuple None No GPS coordinates to be associated with the image, specified as a (latitude, longitude) tuple where both latitude and longitude are themselves tuples of the form (sign, degrees, minutes, seconds). This format can be generated from the skyfield library's <code>signed_dms</code> function."},{"location":"photo_methods/#example","title":"Example","text":"<pre><code>cam.take_photo(\"mypic.jpg\")\n</code></pre> <p>The image will be saved into the same folder as the Python script, unless a path is specified. In this example, the image will be saved into a <code>photos</code> folder.</p> <pre><code>cam.take_photo(\"photos/mypic.jpg\")\n</code></pre> <p>This method can also be called as <code>capture_image()</code> and will behave in exactly the same way.</p> <pre><code>cam.capture_image(\"mypic.jpg\")\n</code></pre>"},{"location":"photo_methods/#capture-a-timelapse-sequence","title":"Capture a timelapse sequence","text":"<ul> <li>Take a sequence of <code>num_images</code> with a gap of <code>interval</code> between each one, and save them as <code>filename</code> with an auto-number.</li> <li>Optionally, <code>make_video</code> using all of the images.</li> <li>All images will be in <code>.jpg</code> format and video in <code>.mp4</code> format.</li> </ul> <pre><code>capture_sequence(\n    filename: str | Path,\n    num_images: int,\n    interval: int,\n    make_video: bool\n) -&gt; None\n</code></pre> Parameter Data type Default Compulsory? Description filename str or Path None Yes A file name for a <code>.jpg</code> image. This can also be a path to a file as either a string or a <code>Path</code> object. num_images int <code>10</code> No How many images to take. interval int <code>1</code> No How long to wait in between each image, in seconds. make_video bool <code>False</code> No Whether to make a <code>.mp4</code> video of the images. <p>It may not be possible for the Raspberry Pi to capture images at the exact interval specified, particularly if the interval value is small.</p>"},{"location":"photo_methods/#example_1","title":"Example","text":"<p>This will take a sequence of 12 images, with 2 seconds between images, and then make a timelapse video of the images. The video will be called <code>mysequence.mp4</code>.</p> <pre><code>cam.capture_sequence(\"mysequence.jpg\", 12, 2, True)\n</code></pre> <p>This method can also be called as <code>take_sequence()</code> and will behave in exactly the same way.</p>"},{"location":"photo_methods/#camtake_sequencemysequencejpg-12-2-true","title":"<pre><code>cam.take_sequence(\"mysequence.jpg\", 12, 2, True)\n</code></pre>","text":""},{"location":"photo_methods/#add-an-image-overlay","title":"Add an image overlay","text":"<ul> <li>Add an image on top of the preview and to still images captured by the camera.</li> <li>Does not overlay the image on video.</li> </ul> <pre><code>add_image_overlay(\n    image_path: str,\n    position: tuple,\n    transparency: float\n) -&gt; None\n</code></pre> Parameter Data type Default Compulsory? Description image_path str - Yes The path to an image to use as the overlay. The image must be in <code>PNG</code>, <code>JPG</code>/<code>JPEG</code> or <code>BMP</code> format. position tuple <code>(0,0)</code> No A tuple of x,y coordinates for the position of the top left corner of the image. transparency float <code>0.5</code> No How transparent the image should be. This can be any value between 0 (completely transparent) and 1 (completely opaque)."},{"location":"photo_methods/#example_2","title":"Example","text":"<pre><code>cam.add_image_overlay(\"logo.gif\")\n</code></pre> <p>Assuming the file <code>logo.gif</code> exists and is in the same folder as the Python script, this code will add an overlay to previews and images taken with the camera.</p>"},{"location":"photo_methods/#add-a-text-annotation","title":"Add a text annotation","text":"<p>Adds a text annotation to the preview and to still images captured by the camera. Does not annotate video.</p> <pre><code>annotate(\n    text: str,\n    font: str,\n    color: str/tuple,\n    scale: int,\n    thickness: int,\n    position: tuple,\n    bgcolor: tuple,\n) -&gt; None\n</code></pre> Parameter Data type Default Compulsory? Description text str <code>\"Default Text\"</code> No The text to overlay on the image/preview. font str <code>\"plain1\"</code> No The font to use. Available fonts are:  <code>plain1</code>, <code>plain2</code>, <code>plain-small</code>, <code>serif1</code>,<code>serif2</code>, <code>serif-small</code>, <code>handwriting1</code>, <code>handwriting2</code> color str/tuple <code>\"white\"</code> No A colour in RGBA, hex or color string format. (See the colors documentation for more details.) scale int <code>3</code> No The base size of the font will be multiplied by this number, for example a value of <code>2</code> will make it twice as large. thickness int <code>3</code> No The thickness of the lines used in the font, measured in px. The value must be between <code>1</code> and <code>10</code>. position tuple <code>(0, 0)</code> No A pair of x, y coordinates for the top left corner of the text. bgcolor tuple None No A colour in RGBA, hex or color string format. (See the colors documentation for more details.)"},{"location":"photo_methods/#example_3","title":"Example","text":"<pre><code>cam.annotate(text=\"London\", font=\"handwriting1\", color=\"#0099FF\")\n</code></pre> <p>This will add an annotation to the preview and to any images captured. The annotation may look larger on the preview than captured images due to the resolution difference.</p>"},{"location":"photo_methods/#capture-an-image-as-a-numpy-array","title":"Capture an image as a numpy array","text":"<ul> <li>Takes a photo at full resolution and saves it as an (RGB) numpy array.</li> <li>This can be used in further processing using libraries like opencv.</li> </ul> <pre><code>capture_array() -&gt; np.ndarray\n</code></pre>"},{"location":"photo_methods/#example_4","title":"Example","text":"<pre><code>numpy_img = cam.capture_array()\n</code></pre> <p>This will capture a numpy array and save it as <code>numpy_img</code> for further processing.</p>"},{"location":"picamera2/","title":"Picamzero and Picamera2","text":"<p>The <code>picamzero</code> library is a simplified wrapper of the <code>Picamera2</code> library. This means that if you need to use more advanced features from <code>Picamera2</code> that are not available in <code>picamzero</code>, you can do this without having to alter the rest of your program.</p> <p>To do this, access the <code>pc2</code> object inside the camera:</p> <pre><code>from picamzero import Camera\ncam = Camera()\n\n# Use a Picamera2 method\ncam.pc2.start_encoder()\n</code></pre>"},{"location":"preview_methods/","title":"Preview methods","text":""},{"location":"preview_methods/#start-the-preview","title":"Start the preview","text":"<ul> <li>Starts a preview window so that you can see what the camera sees.</li> </ul> <pre><code>start_preview() -&gt; None\n</code></pre>"},{"location":"preview_methods/#example","title":"Example","text":"<pre><code>cam.start_preview()\n</code></pre> <p>Note that if you start a preview but then the program ends, there will not be enough time to see the preview window. If you only want to see a preview, use python's built in <code>sleep()</code> method once you have started the preview to keep it open.</p> <pre><code>from picamzero import Camera\nfrom time import sleep\n\ncam = Camera()\ncam.start_preview()\n# Keep the preview window open for 5 seconds\nsleep(5)\n</code></pre>"},{"location":"preview_methods/#stop-the-preview","title":"Stop the preview","text":"<ul> <li>Stops a currently running preview.</li> </ul> <pre><code>stop_preview() -&gt; None\n</code></pre>"},{"location":"preview_methods/#example_1","title":"Example","text":"<pre><code>cam.stop_preview()\n</code></pre>"},{"location":"recipes/","title":"Recipes","text":"<p>We have put together some example programs for common things people would like to do with their camera.</p>"},{"location":"recipes/#start-a-preview-and-take-a-photo","title":"Start a preview and take a photo","text":"<p>The preview will display for 2 seconds, and then the camera will take a photo called <code>test.jpg</code>.</p> <pre><code>from picamzero import Camera\nfrom time import sleep\n\ncam = Camera()\ncam.start_preview()\nsleep(2)\ncam.take_photo(\"test.jpg\")\n</code></pre>"},{"location":"recipes/#start-a-preview-and-record-a-video","title":"Start a preview and record a video","text":"<p>The preview will display while the camera records a 5 second video called <code>test.mp4</code>.</p> <pre><code>from picamzero import Camera\n\ncam = Camera()\ncam.start_preview()\ncam.record_video(\"test.mp4\", duration=5)\n</code></pre>"},{"location":"recipes/#take-a-timelapse-sequence","title":"Take a timelapse sequence","text":"<p>The preview will display and the camera will take 5 photos with a 1 second interval between each photo.</p> <p>The images will automatically be numbered <code>sequence-0.jpg</code>, <code>sequence-1.jpg</code> etc.</p> <pre><code>from picamzero import Camera\n\ncam = Camera()\ncam.start_preview()\ncam.capture_sequence(filename=\"sequence.jpg\", num_images=5, interval=1)\n</code></pre>"},{"location":"recipes/#take-a-black-and-white-image","title":"Take a black and white image","text":"<p>The camera will take one black and white image. (No preview is started in this example).</p> <pre><code>from picamzero import Camera\n\ncam = Camera()\ncam.greyscale = True\ncam.take_photo(\"bnw.jpg\")\n</code></pre>"},{"location":"video_methods/","title":"Video methods","text":""},{"location":"video_methods/#record-a-video","title":"Record a video","text":"<ul> <li>Records a video for a specified <code>duration</code>, given in seconds. If no duration is specified, the video will record for 5 seconds.</li> <li>Returns the <code>filename</code> of the video that was recorded.</li> </ul> <pre><code>record_video(\n    filename: str | Path,\n    duration: int\n) -&gt; str\n</code></pre> Parameter Data type Default Compulsory? Description filename str or Path None Yes A filename for a <code>.mp4</code> video. This can also be a path to a file as either a string or a <code>Path</code> object. duration int <code>5</code> No The length of time to record, in seconds."},{"location":"video_methods/#example","title":"Example","text":"<p>A 10 second video called <code>test_video.mp4</code> will be recorded and saved into the same folder as the Python script.</p> <pre><code>cam.record_video(\"test_video.mp4\", 10)\n</code></pre> <p>This method can also be called as <code>take_video()</code> and will behave in exactly the same way.</p> <pre><code>cam.take_video(\"test_video.mp4\", 10)\n</code></pre>"},{"location":"video_methods/#start-recording","title":"Start recording","text":"<ul> <li>Start recording a video. Use this method if you want to record for an unknown length of time.</li> </ul> <pre><code>start_recording(\n    filename: str | Path,\n    preview: bool,\n) -&gt; None\n</code></pre> Parameter Data type Default Compulsory? Description filename str or Path None Yes A file name for a <code>.mp4</code> video. This can also be a path to a file as either a string or a <code>Path</code> object. show_preview bool <code>False</code> No Whether to show a preview."},{"location":"video_methods/#example_1","title":"Example","text":"<pre><code>cam.start_recording(\"new_video.mp4\")\n</code></pre> <p>This code will start recording a video called <code>new_video.mp4</code>. The video will not finish recording until <code>stop_recording()</code> is called.</p>"},{"location":"video_methods/#stop-recording","title":"Stop recording","text":"<ul> <li>Stops a recording that is currently in progress.</li> </ul> <pre><code>stop_recording() -&gt; None\n</code></pre>"},{"location":"video_methods/#example_2","title":"Example","text":"<pre><code># Stops a previously started recording\ncam.stop_recording()\n</code></pre>"},{"location":"video_methods/#record-a-video-and-take-photos","title":"Record a video and take photos","text":"<ul> <li>Record a video for a fixed <code>duration</code>, and while the video is running also take a photo at a specified <code>still_interval</code>.</li> </ul> <pre><code>take_video_and_still(\n    filename: str | Path,\n    duration: int,\n    still_interval: int\n) -&gt; None\n</code></pre> Parameter Data type Default Compulsory? Description filename str or Path None Yes A file name for a <code>.mp4</code> video.  This can also be a path to a file as either a string or a <code>Path</code> object. duration int 20 No The length of time to record, in seconds. still_interval int 4 No How frequently to take a photo, in seconds. If the duration is not exactly divisible by the interval specified, the method will ignore any remaining time. The first image will be taken after waiting for the specified interval. <p>It may not be possible for the Raspberry Pi to capture images at the exact interval specified, particularly if the interval value is small.</p>"},{"location":"video_methods/#example_3","title":"Example","text":"<pre><code>cam.take_video_and_still(\"example.mp4\", duration=16, still_interval=3)\n</code></pre> <p>This will record a 16 second video called <code>example.mp4</code>. It will also take a still image at 3, 6, 9, 12 and 15 seconds and save them as <code>example-1.jpg</code>, <code>example-2.jpg</code> etc.</p>"}]}